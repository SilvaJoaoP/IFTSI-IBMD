generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  PASTOR
  TESOUREIRO
  SECRETARIO
  DIACONO
  MIDIA
}

model User {
  id        String    @id @default(cuid())
  email     String    @unique
  nome      String
  cpf       String?   @unique
  senha     String
  cargo     Role      
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  
}

model Membro {
  id          String    @id @default(cuid())
  nome        String
  email       String?
  telefone    String?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model TransacaoFinanceira {
  id          String    @id @default(cuid())
  descricao   String
  valor       Float
  tipo        String  
  data        DateTime  @default(now())
}

// Modelo de Eventos (Pode ser usado no futuro Calend√°rio)
model Evento {
  id          String    @id @default(cuid())
  nome        String
  dataInicio  DateTime
  dataFim     DateTime?
}

model Escala {
  id        String    @id @default(cuid())
  titulo    String
  descricao String?
  data      DateTime
}

model Midia {
  id        String    @id @default(cuid())
  url  String  @db.Text
  descricao String?
  tipo      String    
  albumId   String
  album     Album    @relation(fields: [albumId], references: [id], onDelete: Cascade)
  createdAt DateTime  @default(now())
}

model Album {
  id        String   @id @default(cuid())
  titulo    String
  capaUrl String? @db.Text 
  dataEvento DateTime @default(now())
  midias    Midia[]  
  createdAt DateTime @default(now())
}